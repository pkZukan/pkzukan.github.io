{{/* Fetch the remote JSON */}}
{{ $url := printf "https://api.github.com/repos/%s/contents/%s" (.Get "repo") (.Get "file") }}
{{ $headers := dict "Authorization" (printf "Bearer %s" .Site.Params.Token) }}

{{ $resource := resources.GetRemote $url $headers }}
{{ $data := $resource | transform.Unmarshal }}

{{/* Decode the base64 content */}}
{{ $con := base64Decode $data.content }}

{{/* Highlight the code */}}
{{ highlight $con (.Get "lang") (.Get "options") }}
